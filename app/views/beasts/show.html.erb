<h1><%= @beast.name %></h1>
<%# <h6><%= link_to 'Destroy', @beast, method: :delete, data: { confirm: 'Are you shure you want to remove your beast from the list ?'} %>
<%# <h6><%= link_to 'Edit', edit_beast_path(@beast) %>

<h2>
<span>
<%= @beast.species %> -
</span>
<span>
<%= @beast.gender %>
</span>
</h2>
<p>
  <%= @beast.bio %>
</p>

<h3>how do i look ?</h3>
<% @beast.photos.each do |photo| %>
  <%= cl_image_tag photo.key, height: 400, width: 400, crop: :fill %>
<% end %>
<h6><%= link_to 'back to list', beasts_path %></h6>

<% if @beast.user == @user %>
<%# cas 1 : l'user est le propriétaire de la beast %>
<ul>
<% @beast.rentals.each do |rental| %>
  <li>
    <%= rental.user.first_name %> <%= rental.user.last_name %> has <%= rental.beast.name %> rentend  from <%= rental.start_date %> to <%= rental.end_date %>
  </li>
<% end %>
</ul>

<% elsif user_signed_in? %>
<%# cas 2 : l'user est un autre user connecte et donc un locataire %>

<div class="container" id = 'form_rental'>
  <h1  class = "text-center btn-btn-primary" >Book <%= @beast.name %></h1>
  <div class = 'col'>
    <%= simple_form_for [@beast, @rental] do |f| %>
      <%= f.input :start_date, html5: true %>
      <%= f.input :end_date, html5: true %>
      <%= f.button :submit %>
    <% end %>
  </div>

<div class="container mt-3 pt-3">
  <div class="header-show">

    <h3>Keeping <%= @beast.name %> during the hollidays</h3>
    
    <div class="reviews d-flex mb-5 align-items-center">
      <i class="fa-solid fa-star"></i>
      <p class="review mx-2 py-2 my-0">
        <span class="note">4.88</span> • (34 reviews) • 
        <span id="location">Location: Paris, France</span>
      </p>
    </div>
  </div>

  <div class="show-content d-flex">

    <div class="col-7 me-4">
      <% @beast.photos.each do |photo| %>
        <%= cl_image_tag photo.key, crop: :fill, class: "image-show" %>
      <% end %>
    </div>

    <div class="calendar-card col-5">
      <h4 class="my-3">Add dates to see the price</h4>
      <%= simple_form_for [@beast, @rental] do |f| %>
        <div class="d-flex justify-content-between">
          <div class="border rounded p-2 me-1 col-6">
            <%= f.input :start_date, label: "Start date", placeholder: 'When?', html5: true%>
          </div>
          <div class="border rounded p-2 col-6">
            <%= f.input :end_date, html5: true %>
          </div>
        </div>
        <%= f.button :submit, label: "End date", class: "btn-submit-green"%>
      <% end %>
    </div>
  </div>

  <div class="owner-section mt-5 col-6">
    <h4>Owner: John Doe</h4>
    <hr>
    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Consectetur quam amet recusandae facilis modi sed dignissimos corporis pariatur nam praesentium? Assumenda minus veritatis hic similique molestiae nulla facilis doloremque suscipit?</p>
  </div>

</div>


<footer class="footer w-100">
  <div class="top">
    <p>Ready for an unforgettable experience?</p>
    <h2>Sign up now!</h2>
    <a href="#" class="btn btn-default my-4">Get me in!</a>
  </div>
  <p>Copyright © 2022. airbnbeast. All rights reserved.</p>
</footer>
